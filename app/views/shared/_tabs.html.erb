<!-- SHOW TABS If user is owner or collaborator  -->
<!-- ❌ if collaborator not working, confirmation seems not to be working -->
<!-- If setting collaborator to see tabs even when not confirmed, the page breaks 🙄 -->


<% if (@user_type == :owner || @user_type == :collaborator) %>

  <!-- TABS LINKS -->
  <!-- add attr data-toggle="tab" to make tags without reloading funcitonality work -->
  <div class="tab-container-bts">

    <ul class="nav justify-content-between" id="ProjectsTab" role="tablist">
      <li class="nav-item tab">
        <a class="nav-link tab active" id="about-tab" data-toggle="tab" href="#about" role="tab" aria-controls="about" aria-selected="true"><h2>About</h2></a>
      </li>

      <li class="nav-item tab">
        <a class="nav-link tab" id="timeline-tab" data-toggle="tab" href="#timeline" role="tab" aria-controls="timeline" aria-selected="false"><h2>Timeline</h2></a>
      </li>


      <li class="nav-item tab">
        <a class="nav-link tab" id="media-tab" data-toggle="tab" href="#media" role="tab" aria-controls="media" aria-selected="false"><h2>Media</h2></a>
      </li>

      <li class="nav-item tab">
        <a class="nav-link tab" id="chat-tab" data-toggle="tab" href="#chat" role="tab" aria-controls="media" aria-selected="false"><h2>Chat</h2></a>
      </li>

    </ul>

    <hr>

  </div>
<% end %>

    <!-- TAB CONTENTS -->
    <div class="tab-content" id="ProjectsTabContent">

      <!-- ABOUT -->
      <div class="tab-pane show active fade" id="about" role="tabpanel" aria-labelledby="about-tab">
        <!-- ABOUT - OWNER  -->
        <% if @user_type == :owner %>
          <%= render "shared/about_owner" %>

        <!-- ABOUT - COLLABORATOR  -->
        <% elsif @user_type == :collaborator %>
          <%= render "shared/about_collaborator" %>

        <!-- ABOUT - VISITOR  -->
        <% elsif (@user_type == :visitor) || (@user_type == :pending) %>
          <%= render "shared/about_visitor" %>
        <% end %>
      </div>
      </div>

      <!-- TIMELINE -->
      <div class="tab-pane fade" id="timeline" role="tabpanel" aria-labelledby="timeline-tab">
      <% @milestones.each do |milestone| %>
        <h2><%= milestone.title %></h2>
        <p><%= milestone.description %></p>
        <%#= button_to "Delete milestone", project_milestone_path(@project, milestone), method: :delete, data: { confirm: "delete milestone named: '#{@milestone.title}' ?" } %>
      <% end %>
        <div class="container">
          <%= render "shared/milestones_form"%>
        </div>
      </div>
      

      <!-- MEDIA -->
      <div class="tab-pane fade" id="media" role="tabpanel" aria-labelledby="media-tab">
        <!-- MEDIA - OWNER & COLLABORATOR -->
        <% if (@user_type == :owner || @user_type == :collaborator) %>
          <%= render "shared/media" %>
        <% end %>

      </div>
      
      <div class="tab-pane fade" id="chat" role="tabpanel" aria-labelledby="chat-tab">
        <%= render "shared/project_chat" %>
      </div>


  </div>
</div>
